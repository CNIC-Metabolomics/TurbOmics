"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[177],{7177:function(e,a,l){l.r(a),l.d(a,{default:function(){return GSEA_EnrichmentTable}});var n=l(57437),r=l(39227),t=l(49600),o=l(2265),s=l(33457),i=l(92069),c=l(93202);let d={muiTableHeadCellProps:{align:"center"},muiTableBodyCellProps:{align:"center"}},u={t:[{header:"Pathway",accessorKey:"pathway",size:310,...d},{header:"pval",accessorKey:"pval",size:80,filterFn:"lessThanOrEqualTo",...d,columnFilterModeOptions:[]},{header:"padj",accessorKey:"padj",filterFn:"lessThanOrEqualTo",size:100,columnFilterModeOptions:[],...d},{header:"ES",accessorKey:"ES",filterFn:"greaterThan",size:100,...d},{header:"NES",accessorKey:"NES",size:100,filterFn:"greaterThan",...d},{header:"N. Leading Edge",accessorKey:"nLeadingEdge",filterFn:"greaterThan",size:200,...d},{header:"Size",accessorKey:"size",size:120,filterFn:"greaterThan",...d}],m:[{header:"Pathway",accessorKey:"pathway",size:400,...d},{header:"pval",accessorKey:"p-value",size:80,filterFn:"lessThanOrEqualTo",...d,columnFilterModeOptions:[]},{header:"Overlap Size",accessorKey:"overlap_size",size:180,filterFn:"greaterThanOrEqualTo",...d,columnFilterModeOptions:["lessThanOrEqualTo","greaterThanOrEqualTo"]},{header:"Pathway Size",accessorKey:"pathway_size",size:180,filterFn:"greaterThanOrEqualTo",...d,columnFilterModeOptions:["lessThanOrEqualTo","greaterThanOrEqualTo"]},{header:"Features",accessorKey:"overlap_fid",size:220,...d,muiTableBodyCellProps:{align:"left"}}]},handleExportData=(e,a)=>{let l=(0,i.iL)({fieldSeparator:",",decimalSeparator:".",useKeysAsHeaders:!0,filename:"GSEA_Enrichment_".concat(a)}),n=(0,i.gB)(l)(e).replace(/,null/g,",");(0,i.LR)(l)(n)};var GSEA_EnrichmentTable=function(e){let{gseaRes:a,omic:l,db:i}=e,d="m"==l,p=(0,o.useMemo)(()=>{let e=null;return d&&["pos","neg"].includes(i)&&(e="mummichog"),d&&["KEGG","ChEBI"].includes(i)&&(e="msea"),e},[i,d]),m=(0,o.useMemo)(()=>u[d&&"mummichog"==p?"m":"t"],[d,p]),h=(0,o.useMemo)(()=>d&&"mummichog"==p?a.filter(e=>!(0==e.overlap_size||0==e.pathway_size)):a.map(e=>({...e,pval:0==e.pval?1e-4:e.pval,nLeadingEdge:e.leadingEdge.length,leadingEdge:e.leadingEdge.reduce((e,a)=>"".concat(e," // ").concat(a))})),[a,d,p]),g=(0,o.useMemo)(()=>d&&"mummichog"==p?h.map(e=>({...e,"p-value":Number.parseFloat(e["p-value"]).toExponential(2)})):h.map(e=>({...e,pval:0==e.pval?0:Number.parseFloat(e.pval).toExponential(2),padj:Number.parseFloat(e.padj).toExponential(2),ES:Number.parseFloat(e.ES),NES:Number.parseFloat(e.NES)})),[h,d,p]),[E,b]=(0,o.useState)({}),T=(0,s.X0)({columns:m,data:g,enableStickyHeader:!0,enableBottomToolbar:!1,enableColumnResizing:!0,enablePagination:!1,enableColumnPinning:!1,enableRowNumbers:!1,enableRowActions:!1,enableRowSelection:!0,enableMultiRowSelection:!0,enableDensityToggle:!1,enableColumnFilters:!0,enableColumnFilterModes:!0,enableFullScreenToggle:!1,enableHiding:!1,enableColumnActions:!1,muiTableContainerProps:{sx:{maxHeight:"500px"}},enableFacetedValues:!0,initialState:{density:"compact",showGlobalFilter:!0,showColumnFilters:!0},positionToolbarAlertBanner:"bottom",getRowId:e=>e.native,muiTableBodyRowProps:e=>{let{row:a}=e;return{onClick:a.getToggleSelectedHandler(),sx:{cursor:"pointer"}}},onRowSelectionChange:b,state:{rowSelection:E},renderTopToolbarCustomActions:e=>{let{table:a}=e;return(0,n.jsx)(r.Z,{sx:{display:"flex",gap:"16px",padding:"8px",flexWrap:"wrap"},children:(0,n.jsx)(t.Z,{onClick:()=>handleExportData(h,i),startIcon:(0,n.jsx)(c.Z,{}),children:"Export All Data"})})}});return(0,n.jsx)(r.Z,{sx:{display:"flex",justifyContent:"center",mt:2},children:(0,n.jsx)(r.Z,{sx:{width:1150,border:"0px solid red"},children:(0,n.jsx)(s.P2,{table:T})})})}}}]);