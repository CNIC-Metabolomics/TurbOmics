"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[809],{86809:function(e,a,l){l.r(a);var t=l(57437),n=l(39227),i=l(49600),s=l(2265),o=l(93202),r=l(92069),c=l(33457);a.default=function(e){let{myData:a,setCategory:l,myUsrFilt:d,setMyUsrFilt:u}=e,handleExportData=()=>{let e=(0,r.iL)({fieldSeparator:",",decimalSeparator:".",useKeysAsHeaders:!0,filename:"Metabolite_Enrichment"}),l=a.map(e=>({ID:e.id,Type:e.db,Name:e.name,pvalue:e.pvalue,FDR:e.FDR,"N. mapped":e.N_pathway_mapped,"N. target":e.N_pathway_sig})),t=(0,r.gB)(e)(l);(0,r.LR)(e)(t)},p=(0,s.useMemo)(()=>[{header:"ID",accessorKey:"id",size:100},{header:"Type",accessorKey:"db",size:120,filterVariant:"multi-select"},{header:"Name",accessorKey:"name",size:220},{header:"pvalue",accessorKey:"pvalue",size:100,filterFn:"lessThan"},{header:"FDR",accessorKey:"FDR",size:80,filterFn:"lessThan"},{header:"N. Backg.",accessorKey:"N_pathway_mapped",size:100},{header:"N. Target",accessorKey:"N_pathway_sig",size:100}],[]),m=(0,s.useMemo)(()=>a.length>0?{[a[0].id]:!0}:{},[a]),[b,g]=(0,s.useState)(m);(0,s.useEffect)(()=>{0==Object.keys(b).length?l(null):l(a.filter(e=>e.id==Object.keys(b)[0])[0])},[b,a,l]);let h=(0,c.X0)({columns:p,data:a,layoutMode:"grid",enableBottomToolbar:!1,enableColumnResizing:!0,enablePagination:!1,enableColumnPinning:!1,enableRowNumbers:!1,enableRowActions:!1,enableRowSelection:!0,enableMultiRowSelection:!1,enableDensityToggle:!1,enableColumnFilters:!0,enableFullScreenToggle:!1,enableHiding:!1,enableColumnActions:!1,muiTableContainerProps:{sx:{maxHeight:"330px",minHeight:"330px"}},enableFacetedValues:!0,initialState:{density:"compact",showGlobalFilter:!0,showColumnFilters:!0,columnFilters:[{id:"pvalue",value:.05}],rowSelection:{initialSelectedRow:m},sorting:[{id:"pvalue",desc:!1}]},positionToolbarAlertBanner:"bottom",getRowId:e=>e.id,muiTableBodyRowProps:e=>{let{row:a}=e;return{onClick:a.getToggleSelectedHandler(),sx:{cursor:"pointer"}}},onRowSelectionChange:g,state:{rowSelection:b},renderTopToolbarCustomActions:e=>{let{table:a}=e;return(0,t.jsx)(n.Z,{sx:{display:"flex",gap:"16px",padding:"8px",flexWrap:"wrap"},children:(0,t.jsx)(i.Z,{onClick:handleExportData,startIcon:(0,t.jsx)(o.Z,{}),children:"Export All Data"})})}}),[y,w]=(0,s.useState)(a.map(e=>e.native)),f=h.getFilteredRowModel().rows.map(e=>e.id);return y.every(e=>f.includes(e))&&f.every(e=>y.includes(e))||w(f),(0,s.useEffect)(()=>{console.log("Setting ID"),d.every(e=>y.includes(e))&&y.every(e=>d.includes(e))||u(y)},[y,u,d]),(0,t.jsx)(c.P2,{table:h})}}}]);